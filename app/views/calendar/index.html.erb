<% provide :title, 'Calendar' %>

<div class="row">
  <div class="col-md-12">

    <table class="table calendar">
      <thead>
        <tr>
          <th class="calendar__day-title">Monday</th>
          <th class="calendar__day-title">Tuesday</th>
          <th class="calendar__day-title">Wednesday</th>
          <th class="calendar__day-title">Thursday</th>
          <th class="calendar__day-title">Friday</th>
          <th class="calendar__day-title">Saturday</th>
          <th class="calendar__day-title">Sunday</th>
        </tr>
      </thead>
      <tbody>
        <% @dates.each do |row| %>

          <tr class="calendar__week">

            <% row.each do |date| %>
              <% current_date = @start_of_month + (date - 1).days if !date.nil? %>

              <td class="calendar__day <% if !date.nil? %>-current-month<% end %> <%= class_helper(current_date) if !date.nil? %>">
                <%= date %>
                <%= render 'employee_holiday_list', date: current_date %>
              </td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
